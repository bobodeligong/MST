<!DOCTYPE html>
<html>
    <head>
        <title>MST</title>
        <script src="jspsych-6.0.5/jspsych.js"></script>
        <script src="jspsych-6.0.5/plugins/jspsych-html-keyboard-response.js"></script>
        <script src="jspsych-6.0.5/plugins/jspsych-image-keyboard-response.js"></script>
        <link href="jspsych-6.0.5/css/jspsych.css" rel="stylesheet" type="text/css"></link>
    </head>
    <body></body>
    <script>
        var timeline = [];

        
        /* test trials */
        
        var study_stimuli = [
            {emotion: "img/emotion1.png"}, //change response button later to represent old picture
            {emotion: "img/emotion2.png"}
        ];
        
        
        /*define instruction trial*/
        var instruction = {
            type: 'html-keyboard-response',
            stimulus: 'Instruction. Press 'g' to start the experiemnt.',
            choices: 'g'
            
        };
        

        
        /* Emotion Rating Display */
        var emotion_rating = {
            type: 'image-keyboard-response',
            stimulus: jsPsych.timelineVariable('emotion'),
            choices: ['0','1','2','3'],
            prompt: "<p>Emotion rating from 0 to 4</p>",
            trial_duration: 4000,
            //data: jsPsych.timelineVariable('emotion_index')
        };

        
        var encoding_procedure ={
            timeline: [instruction, emotion_rating],
            timeline_variables: study_stimuli,
            randomize_order: true,
            repetitions: 2
         };
        timeline.push(encoding_procedure);

        /* start the experiment */
        jsPsych.init({
            timeline: timeline,
            on_finish: function(){
                jsPsych.data.displayData();
            }
        })

    </script>
</html>
